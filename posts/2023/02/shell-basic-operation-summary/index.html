<!DOCTYPE html>
<html lang="zh-cn">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Shell 基本操作总结 | Norwegian Wood</title>
  <link rel="canonical" href="https://akynazh.site/posts/2023/02/shell-basic-operation-summary/" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="all,follow" />
  <meta name="googlebot" content="index,follow,snippet,archive" />
  <meta property="og:title" content="Shell 基本操作总结" />
<meta property="og:description" content="shell 参数 $# 参数个数 $@ / $* 取出所有参数 $0 取出命令中第一个字符串 $1 取出第一个参数 1if [ &#34;$1&#34; == &#34;-u&#34; ] 2then 3 echo update 4fi 5echo $0 ans:
1[root =&gt; ~]$ ./test.sh 2./test.sh 3[root =&gt; ~]$ ./test.sh -u 4update 5./test.sh $@ 与 $* 的区别：（from stackoverflow）
$@ behaves like $* except that when quoted the arguments are broken up properly if there are spaces in them.
Take this script for example (taken from the linked answer):" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://akynazh.site/posts/2023/02/shell-basic-operation-summary/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-03T22:44:10+08:00" />
<meta property="article:modified_time" content="2023-02-03T22:44:10+08:00" /><meta property="og:site_name" content="Norwegian Wood" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Shell 基本操作总结"/>
<meta name="twitter:description" content="shell 参数 $# 参数个数 $@ / $* 取出所有参数 $0 取出命令中第一个字符串 $1 取出第一个参数 1if [ &#34;$1&#34; == &#34;-u&#34; ] 2then 3 echo update 4fi 5echo $0 ans:
1[root =&gt; ~]$ ./test.sh 2./test.sh 3[root =&gt; ~]$ ./test.sh -u 4update 5./test.sh $@ 与 $* 的区别：（from stackoverflow）
$@ behaves like $* except that when quoted the arguments are broken up properly if there are spaces in them.
Take this script for example (taken from the linked answer):"/>


  
  

  
  

  
  
  
    <input value="dark" id="theme-current" style="display: none;" />
    <link id="theme-css" rel="stylesheet" href="https://akynazh.site/css/styles_dark.css" />
  
  <input value="https://akynazh.site/css/styles_dark.css" id="styles-dark" style="display: none;" />
  <input value="https://akynazh.site/css/styles_light.css" id="styles-light" style="display: none;" />

  <input value="1" id="set-snow" style="display: none;" />
  
  <script src="/js/snow.js"></script>
  <script src="/js/theme.js"></script>
  <script src="/js/jquery.min.js"></script>

  
  <script src="/js/fontawesome5.js"></script>

  
  
  
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="icon" href="/favicon.ico" type="image/vnd.microsoft.icon" />


  

  
</head>

  <input value="" id="no-snow" style="display: none;" />
  <body class="max-width-blog mx-auto px3 ltr">
    <div class="content index py4">
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a
    id="top-icon-tablet"
    href="#"
    onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"
    style="display:none;"
    aria-label="Top of Page"
    ><i class="fas fa-chevron-up fa-lg"></i
  ></a>
  <span id="menu">
    <span id="nav">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/posts">Posts</a></li>
        
          <li><a href="/tags">Tags</a></li>
        
          <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br />
    <span id="actions">
      <ul>
        
        
          <li>
            <a class="icon" href="https://akynazh.site/posts/2023/02/hugo-realizes-switching-between-deep-and-shallow-themes/" aria-label="Previous">
              <i class="fas fa-chevron-left" aria-hidden="true"></i>
            </a>
          </li>
        
        
        
          <li>
            <a class="icon" href="https://akynazh.site/posts/2023/02/analyze-the-agent-process-from-the-source-code-of-the-requests-and-urllib-library/" aria-label="Next">
              <i class="fas fa-chevron-right" aria-hidden="true"></i>
            </a>
          </li>
        
        
        <li>
          <a
            class="icon"
            href="#"
            onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"
            aria-label="Top of Page"
          >
            <i class="fas fa-chevron-up" aria-hidden="true"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" aria-label="Search" id="searchBtn">
            <i class="fa fa-search" aria-hidden="true"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" id="theme-change"><i class="fas fa-adjust"></i></a>
        </li>
        
        <li>
          <a
            class="icon"
            href="#"
            aria-label="Share"
            onclick="$('#share').toggle();return false;"
          >
            <i class="fas fa-share-alt" aria-hidden="true"></i>
          </a>
        </li>
      </ul>
    </span>
    <br />
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a
      class="icon"
      href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2ft=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93"
      aria-label="Facebook"
      target="_blank"
    >
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a
      class="icon"
      href="https://twitter.com/share?url=https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2f&text=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93"
      aria-label="Twitter"
      target="_blank"
    >
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a
      class="icon"
      href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2f&title=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93"
      aria-label="Linkedin"
      target="_blank"
    >
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a
      class="icon"
      href="mailto:?subject=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93&body=Check out this article: https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2f"
      aria-label="Email"
      target="_blank"
    >
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a
      class="icon"
      href="http://reddit.com/submit?url=https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2f&title=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93"
      aria-label="reddit"
      target="_blank"
    >
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a
      class="icon"
      href="http://www.tumblr.com/share/link?url=https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2f&name=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93&description=shell%20%e5%8f%82%e6%95%b0%20%24%23%20%e5%8f%82%e6%95%b0%e4%b8%aa%e6%95%b0%20%24%40%20%2f%20%24%2a%20%e5%8f%96%e5%87%ba%e6%89%80%e6%9c%89%e5%8f%82%e6%95%b0%20%240%20%e5%8f%96%e5%87%ba%e5%91%bd%e4%bb%a4%e4%b8%ad%e7%ac%ac%e4%b8%80%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%20%241%20%e5%8f%96%e5%87%ba%e7%ac%ac%e4%b8%80%e4%b8%aa%e5%8f%82%e6%95%b0%201if%20%5b%20%26%2334%3b%241%26%2334%3b%20%3d%3d%20%26%2334%3b-u%26%2334%3b%20%5d%202then%203%20echo%20update%204fi%205echo%20%240%20ans%3a%0a1%5broot%20%3d%26gt%3b%20~%5d%24%20.%2ftest.sh%202.%2ftest.sh%203%5broot%20%3d%26gt%3b%20~%5d%24%20.%2ftest.sh%20-u%204update%205.%2ftest.sh%20%24%40%20%e4%b8%8e%20%24%2a%20%e7%9a%84%e5%8c%ba%e5%88%ab%ef%bc%9a%ef%bc%88from%20stackoverflow%ef%bc%89%0a%24%40%20behaves%20like%20%24%2a%20except%20that%20when%20quoted%20the%20arguments%20are%20broken%20up%20properly%20if%20there%20are%20spaces%20in%20them.%0aTake%20this%20script%20for%20example%20%28taken%20from%20the%20linked%20answer%29%3a"
      aria-label="Tumblr"
      target="_blank"
    >
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
      <div id="toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#shell-参数">shell 参数</a></li>
    <li><a href="#关于数组">关于数组</a>
      <ul>
        <li><a href="#取值">取值</a></li>
        <li><a href="#切片">切片</a></li>
        <li><a href="#-和-数组">$@ 和 数组</a></li>
      </ul>
    </li>
    <li><a href="#算术运算">算术运算</a></li>
    <li><a href="#比较运算">比较运算</a></li>
    <li><a href="#字符串运算">字符串运算</a></li>
    <li><a href="#字符串的引号使用">字符串的引号使用</a></li>
    <li><a href="#获取时间">获取时间</a></li>
    <li><a href="#条件判断">条件判断</a></li>
    <li><a href="#文件运算">文件运算</a></li>
    <li><a href="#读取输入">读取输入</a></li>
    <li><a href="#条件判断语句">条件判断语句</a>
      <ul>
        <li><a href="#if-else">if else</a></li>
        <li><a href="#case">case</a></li>
      </ul>
    </li>
    <li><a href="#循环语句">循环语句</a>
      <ul>
        <li><a href="#while">while</a></li>
        <li><a href="#until">until</a></li>
        <li><a href="#for">for</a></li>
      </ul>
    </li>
    <li><a href="#sh-命令">sh 命令</a></li>
  </ul>
</nav>
      </div>
    
  </span>
</div>

      <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
        <header>
          <h1 class="posttitle" itemprop="name headline">
            Shell 基本操作总结
          </h1>
          <div class="meta">
            
            <div class="postdate">
              
              <time datetime="2023-02-03 22:44:10 &#43;0800 CST" itemprop="datePublished"
                >2023-02-03</time
              >
              
            </div>
            
            
              <div class="article-read-time">
                <i class="far fa-clock"></i>
                
                5 minute
              </div>
            
            
              <div class="article-category">
                <i class="fas fa-archive"></i>
                
                  
                  <a
                    class="category-link"
                    href="/categories/language"
                    >Language</a
                  >
                
              </div>
            
            
              <div class="article-tag">
                <i class="fas fa-tag"></i>
                
                  
                  <a
                    class="tag-link"
                    href="/tags/linux"
                    rel="tag"
                    >linux</a
                  >
                
                  , 
                  <a
                    class="tag-link"
                    href="/tags/shell"
                    rel="tag"
                    >shell</a
                  >
                
                  , 
                  <a
                    class="tag-link"
                    href="/tags/bash"
                    rel="tag"
                    >bash</a
                  >
                
              </div>
            
          </div>
        </header>
        
        <div class="content" itemprop="articleBody">
          <h2 id="shell-参数">shell 参数</h2>
<ul>
<li><code>$#</code> 参数个数</li>
<li><code>$@</code> / <code>$*</code> 取出所有参数</li>
<li><code>$0</code> 取出命令中第一个字符串</li>
<li><code>$1</code> 取出第一个参数</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">if</span> <span style="color:#ff79c6">[</span> <span style="color:#f1fa8c">&#34;</span><span style="color:#8be9fd;font-style:italic">$1</span><span style="color:#f1fa8c">&#34;</span> <span style="color:#ff79c6">==</span> <span style="color:#f1fa8c">&#34;-u&#34;</span> <span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">then</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>    <span style="color:#8be9fd;font-style:italic">echo</span> update
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#ff79c6">fi</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span><span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#8be9fd;font-style:italic">$0</span>
</span></span></code></pre></div><p>ans:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>[root =&gt; ~]$ ./test.sh
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>./test.sh
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>[root =&gt; ~]$ ./test.sh -u
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>update
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>./test.sh
</span></span></code></pre></div><p><code>$@</code> 与 <code>$*</code> 的区别：（from <a href="https://stackoverflow.com/questions/4341630/checking-for-the-correct-number-of-arguments">stackoverflow</a>）</p>
<p><code>$@</code> behaves like <code>$*</code> except that when quoted the arguments are broken up properly if there are spaces in them.</p>
<p>Take this script for example (taken from the linked answer):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>for var in &#34;$@&#34;
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>do
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>    echo &#34;$var&#34;
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>done
</span></span></code></pre></div><p>Gives this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>$ sh test.sh 1 2 &#39;3 4&#39;
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>1
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>2
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>3 4
</span></span></code></pre></div><p>Now change <code>$@</code> to <code>$*</code>, And you get this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>$ sh test.sh 1 2 &#39;3 4&#39;
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>1
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>2
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>3
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>4
</span></span></code></pre></div><p>个人觉得使用 <code>$@</code> 更为妥当。</p>
<h2 id="关于数组">关于数组</h2>
<h3 id="取值">取值</h3>
<p>根据下标取值，下标从 0 开始：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">arr</span>[0]<span style="color:#f1fa8c">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">arr</span>[1]<span style="color:#f1fa8c">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">arr</span>[2]<span style="color:#f1fa8c">}</span>
</span></span></code></pre></div><p>获取所有值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">arr</span>[@]<span style="color:#f1fa8c">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#6272a4"># 常用于：</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>/bin/bash test.sh <span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">arr</span>[@]<span style="color:#f1fa8c">}</span>
</span></span></code></pre></div><p>获取长度：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#f1fa8c">${#</span><span style="color:#8be9fd;font-style:italic">args</span>[@]<span style="color:#f1fa8c">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#ff79c6">if</span> <span style="color:#ff79c6">[</span> <span style="color:#f1fa8c">${#</span><span style="color:#8be9fd;font-style:italic">args</span>[@]<span style="color:#f1fa8c">}</span> -eq <span style="color:#bd93f9">0</span> <span style="color:#ff79c6">]</span>; <span style="color:#ff79c6">then</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>	<span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">&#34;length=0&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span><span style="color:#ff79c6">fi</span>
</span></span></code></pre></div><h3 id="切片">切片</h3>
<p>数组切片：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#6272a4"># 从 $start 开始到 $end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#8be9fd;font-style:italic">arr</span><span style="color:#ff79c6">=(</span> <span style="color:#ff79c6">$(</span>arr<span style="color:#ff79c6">[</span>@<span style="color:#ff79c6">]</span>:<span style="color:#8be9fd;font-style:italic">$start</span>:<span style="color:#8be9fd;font-style:italic">$end</span><span style="color:#ff79c6">)</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#6272a4"># 从 $start 开始到最后，两侧必须加括号</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span><span style="color:#8be9fd;font-style:italic">arr</span><span style="color:#ff79c6">=(</span> <span style="color:#ff79c6">$(</span>arr<span style="color:#ff79c6">[</span>@<span style="color:#ff79c6">]</span>:<span style="color:#8be9fd;font-style:italic">$start</span><span style="color:#ff79c6">)</span> <span style="color:#ff79c6">)</span>
</span></span></code></pre></div><p>一个简单的测试：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span>root@Server-Debian-Jzh:~# <span style="color:#8be9fd;font-style:italic">arr</span><span style="color:#ff79c6">=(</span>1, 2, 3, 4, 5<span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>root@Server-Debian-Jzh:~# <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">arr</span>[@]<span style="color:#f1fa8c">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>1, 2, 3, 4, <span style="color:#bd93f9">5</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>root@Server-Debian-Jzh:~# <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">arr</span>[@]:<span style="color:#8be9fd;font-style:italic">1</span><span style="color:#f1fa8c">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>2, 3, 4, <span style="color:#bd93f9">5</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>root@Server-Debian-Jzh:~# <span style="color:#8be9fd;font-style:italic">s</span><span style="color:#ff79c6">=</span>1;<span style="color:#8be9fd;font-style:italic">e</span><span style="color:#ff79c6">=</span><span style="color:#bd93f9">2</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>root@Server-Debian-Jzh:~# <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">arr</span>[@]:<span style="color:#8be9fd;font-style:italic">$s</span>:<span style="color:#8be9fd;font-style:italic">$e</span><span style="color:#f1fa8c">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>2, 3,
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span><span style="color:#6272a4"># 切片后不加括号的后果：</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span>root@Server-Debian-Jzh:~# <span style="color:#8be9fd;font-style:italic">tarr</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">arr</span>[@]:<span style="color:#8be9fd;font-style:italic">$s</span>:<span style="color:#8be9fd;font-style:italic">$e</span><span style="color:#f1fa8c">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>root@Server-Debian-Jzh:~# <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">tarr</span>[0]<span style="color:#f1fa8c">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span>2, 3,
</span></span></code></pre></div><h3 id="-和-数组">$@ 和 数组</h3>
<p><code>$@</code> 不是真正的数组，如需使用上述取值和切片特性，需将其转换为数组：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#8be9fd;font-style:italic">args</span><span style="color:#ff79c6">=(</span> <span style="color:#8be9fd;font-style:italic">$@</span> <span style="color:#ff79c6">)</span> <span style="color:#6272a4"># convert to array</span>
</span></span></code></pre></div><p><code>$@</code> 可以直接嵌入命令中而数组不可以：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>/bin/bash t.sh <span style="color:#8be9fd;font-style:italic">$val1</span> <span style="color:#8be9fd;font-style:italic">$@</span>
</span></span></code></pre></div><p>关于 $@ 的数据结构，这是一段 chatgpt 的回答，挺不错的：</p>
<p>&hellip;&hellip;</p>
<p>Q: but what i want to know is the data structure of <code>$@</code></p>
<p>A: As I mentioned earlier, <code>$@</code> is a special shell parameter in Bash that holds the positional parameters passed to the script or function. It is not technically an array in Bash, although it behaves like one in many ways.</p>
<p>Under the hood, <code>$@</code> is actually a space-separated list of strings, with each string representing an individual positional parameter. When the shell expands <code>$@</code>, it splits this list into separate words, treating each space as a delimiter.</p>
<p>So you can think of the data structure of <code>$@</code> as a simple list or sequence of strings, where each string represents an argument passed to the script or function. While it doesn&rsquo;t have all the advanced functionality of a true array, such as indexed access and manipulation, it is still a very useful and versatile tool in Bash scripting.</p>
<h2 id="算术运算">算术运算</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># a=1</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># b=$((a*12))</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># echo $b</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#bd93f9">12</span>
</span></span></code></pre></div><h2 id="比较运算">比较运算</h2>
<p>指令：-eq -ne -lt -gt -ge -le</p>
<p>注：字符串比较直接用 “==” 而不是上述指令。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># a=10</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># [ $a -eq 10 ] &amp;&amp; echo yes</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>yes
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># [ $a -ge 11 ] &amp;&amp; echo yes || echo no</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>no
</span></span></code></pre></div><p>指令：-a -o</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># a=10;b=12;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># [ $a -lt 11 -a $b -lt 13 ] &amp;&amp; echo yes || echo no</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>yes
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># [ $a -lt 11 -a $b -lt 11 ] &amp;&amp; echo yes || echo no</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>no
</span></span></code></pre></div><h2 id="字符串运算">字符串运算</h2>
<ol>
<li>-z（即 zero）检测字符串长度是否为 0，为 0 返回 true。</li>
<li>str 检测字符串是否为空，不为空返回 true。</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># [ -z &#34;jzh&#34; ] &amp;&amp; echo yes || echo no</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>no
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># [ &#34;jzh&#34; == &#34;zh&#34; ] &amp;&amp; echo yes || echo no</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>no
</span></span></code></pre></div><h2 id="字符串的引号使用">字符串的引号使用</h2>
<p>双引号与单引号效果不一样，如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>root@ubuntu2004:~# <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">&#34;</span><span style="color:#8be9fd;font-style:italic">$PATH</span><span style="color:#f1fa8c">&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>/usr/local/java/jdk1.8.0_311/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:...
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>root@ubuntu2004:~# <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">&#39;$PATH&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#8be9fd;font-style:italic">$PATH</span>
</span></span></code></pre></div><h2 id="获取时间">获取时间</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#6272a4"># 输出格式化时间</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># date &#39;+%Y-%m-%d %H:%M:%S&#39;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>2022-04-10 13:22:04
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#6272a4"># 输出当前时间戳</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># date +%s</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span><span style="color:#bd93f9">1649568128</span>
</span></span></code></pre></div><h2 id="条件判断">条件判断</h2>
<p>注：中括号两端要有空白符。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>[root@VM-0-11-centos tmp]# [ &#34;a&#34; == &#34;b&#34; ] &amp;&amp; echo hello || echo bye
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>bye
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>[root@VM-0-11-centos tmp]# [ &#34;a&#34; == &#34;a&#34; ] &amp;&amp; echo hello || echo bye
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>hello
</span></span></code></pre></div><h2 id="文件运算">文件运算</h2>
<ol>
<li>-r 即 read</li>
<li>-w 即 write</li>
<li>-x 即 exec</li>
<li>-s 即文件不为空</li>
<li>-e 即 exist</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># touch t.sh</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># [ -s ./t.sh ] &amp;&amp; echo yes || echo no</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>no
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># [ -e ./t.sh ] &amp;&amp; echo yes || echo no</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>yes
</span></span></code></pre></div><h2 id="读取输入">读取输入</h2>
<p>read -p &ldquo;prompt words&rdquo; var_name</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># read -p &#34;age:&#34; age</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>age:12
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos ~<span style="color:#ff79c6">]</span><span style="color:#6272a4"># echo $age</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#bd93f9">12</span>
</span></span></code></pre></div><p>read -a variable_name （读取数组）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos tmp<span style="color:#ff79c6">]</span><span style="color:#6272a4"># read -a arr</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#bd93f9">1</span> <span style="color:#bd93f9">2</span> <span style="color:#bd93f9">3</span> <span style="color:#bd93f9">4</span> <span style="color:#bd93f9">5</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#ff79c6">[</span>root@VM-0-11-centos tmp<span style="color:#ff79c6">]</span><span style="color:#6272a4"># echo ${arr[4]}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#bd93f9">5</span>
</span></span></code></pre></div><h2 id="条件判断语句">条件判断语句</h2>
<h3 id="if-else">if else</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">if</span> <span style="color:#ff79c6">[</span>  <span style="color:#ff79c6">]</span> <span style="color:#ff79c6">||</span> <span style="color:#ff79c6">[</span>  <span style="color:#ff79c6">]</span>; <span style="color:#ff79c6">then</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>	do_something
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#ff79c6">elif</span> <span style="color:#ff79c6">[</span>  <span style="color:#ff79c6">]</span> <span style="color:#ff79c6">&amp;&amp;</span> <span style="color:#ff79c6">[</span>  <span style="color:#ff79c6">]</span>; <span style="color:#ff79c6">then</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>	do_something
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span><span style="color:#ff79c6">else</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span>	do_something
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span><span style="color:#ff79c6">fi</span>
</span></span></code></pre></div><h3 id="case">case</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#ff79c6">case</span> <span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">var</span><span style="color:#f1fa8c">}</span> in
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span><span style="color:#f1fa8c">&#34;condition1&#34;</span><span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>do_something
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>;;
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span><span style="color:#f1fa8c">&#34;condition2&#34;</span><span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>do_something
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>;;
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>*<span style="color:#ff79c6">)</span> <span style="color:#6272a4">#anything</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span>do_something
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>;;
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span><span style="color:#ff79c6">esac</span>
</span></span></code></pre></div><h2 id="循环语句">循环语句</h2>
<h3 id="while">while</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">while</span> <span style="color:#ff79c6">[</span> condition <span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">do</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>	do_something
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#ff79c6">done</span>
</span></span></code></pre></div><p>when meet the condition, start the loop.</p>
<h3 id="until">until</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">until</span> <span style="color:#ff79c6">[</span> condition <span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">do</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>	do_something
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#ff79c6">done</span>
</span></span></code></pre></div><p>when meet the condition, end the loop.</p>
<h3 id="for">for</h3>
<p>遍历数组：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">for</span> <span style="color:#8be9fd;font-style:italic">$var</span> in <span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">array</span><span style="color:#f1fa8c">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">do</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>	do_something
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#ff79c6">done</span>
</span></span></code></pre></div><p>遍历指定数字序列：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">for</span> <span style="color:#8be9fd;font-style:italic">$var</span> in <span style="color:#ff79c6">{</span>1..100<span style="color:#ff79c6">}</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">do</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>	do_something
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#ff79c6">done</span>
</span></span></code></pre></div><p>条件遍历：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">for</span> <span style="color:#ff79c6">(</span> <span style="color:#ff79c6">(</span><span style="color:#8be9fd;font-style:italic">i</span><span style="color:#ff79c6">=</span>1; i&lt;<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">var</span><span style="color:#f1fa8c">}</span>; i++<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#ff79c6">do</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>	do_something
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#ff79c6">done</span>
</span></span></code></pre></div><h2 id="sh-命令">sh 命令</h2>
<ul>
<li>-n 不执行，只检查语法 not execute but check</li>
<li>-v 执行前输出脚本内容 view the script</li>
<li>-x 将使用到脚本内容输出</li>
</ul>

        </div>
      </article>
      
  




  <div class="blog-post-comments">
    
      <div id="disquss_thread">
  <script type="text/javascript">
    let utterancesTheme = getCurrentTheme() == "light" ? "github-light" : "github-dark";
    let script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.setAttribute("repo", "akynazh\/hugo-comment");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute(
      "label",
      "akynazh"
    );
    script.setAttribute("theme", utterancesTheme);
    script.setAttribute("crossOrigin", "anonymous");
    script.setAttribute("async", true);
    comments = document.getElementById("disquss_thread");
    comments.appendChild(script);
  </script>
</div>

    
  </div>


      <div id="fastSearch">
  <input id="searchInput" tabindex="0" />
  <ul id="searchResults"></ul>
</div>

      <div id="footer-post-container">
  <div id="footer-post">
    
      <div id="toc-footer" style="display: none">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#shell-参数">shell 参数</a></li>
    <li><a href="#关于数组">关于数组</a>
      <ul>
        <li><a href="#取值">取值</a></li>
        <li><a href="#切片">切片</a></li>
        <li><a href="#-和-数组">$@ 和 数组</a></li>
      </ul>
    </li>
    <li><a href="#算术运算">算术运算</a></li>
    <li><a href="#比较运算">比较运算</a></li>
    <li><a href="#字符串运算">字符串运算</a></li>
    <li><a href="#字符串的引号使用">字符串的引号使用</a></li>
    <li><a href="#获取时间">获取时间</a></li>
    <li><a href="#条件判断">条件判断</a></li>
    <li><a href="#文件运算">文件运算</a></li>
    <li><a href="#读取输入">读取输入</a></li>
    <li><a href="#条件判断语句">条件判断语句</a>
      <ul>
        <li><a href="#if-else">if else</a></li>
        <li><a href="#case">case</a></li>
      </ul>
    </li>
    <li><a href="#循环语句">循环语句</a>
      <ul>
        <li><a href="#while">while</a></li>
        <li><a href="#until">until</a></li>
        <li><a href="#for">for</a></li>
      </ul>
    </li>
    <li><a href="#sh-命令">sh 命令</a></li>
  </ul>
</nav>
      </div>
    
    <div id="nav-footer" style="display: none">
      
        <ul style="display:inline;">
          <li><a href="/">Home</a></li>
        </ul>
      
        <ul style="display:inline;">
          <li><a href="/posts">Posts</a></li>
        </ul>
      
        <ul style="display:inline;">
          <li><a href="/tags">Tags</a></li>
        </ul>
      
        <ul style="display:inline;">
          <li><a href="/about">About</a></li>
        </ul>
      
    </div>
    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a
      class="icon"
      href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2ft=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93"
      aria-label="Facebook"
      target="_blank"
    >
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a
      class="icon"
      href="https://twitter.com/share?url=https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2f&text=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93"
      aria-label="Twitter"
      target="_blank"
    >
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a
      class="icon"
      href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2f&title=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93"
      aria-label="Linkedin"
      target="_blank"
    >
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a
      class="icon"
      href="mailto:?subject=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93&body=Check out this article: https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2f"
      aria-label="Email"
      target="_blank"
    >
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a
      class="icon"
      href="http://reddit.com/submit?url=https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2f&title=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93"
      aria-label="reddit"
      target="_blank"
    >
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a
      class="icon"
      href="http://www.tumblr.com/share/link?url=https%3a%2f%2fakynazh.site%2fposts%2f2023%2f02%2fshell-basic-operation-summary%2f&name=Shell%20%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c%e6%80%bb%e7%bb%93&description=shell%20%e5%8f%82%e6%95%b0%20%24%23%20%e5%8f%82%e6%95%b0%e4%b8%aa%e6%95%b0%20%24%40%20%2f%20%24%2a%20%e5%8f%96%e5%87%ba%e6%89%80%e6%9c%89%e5%8f%82%e6%95%b0%20%240%20%e5%8f%96%e5%87%ba%e5%91%bd%e4%bb%a4%e4%b8%ad%e7%ac%ac%e4%b8%80%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%20%241%20%e5%8f%96%e5%87%ba%e7%ac%ac%e4%b8%80%e4%b8%aa%e5%8f%82%e6%95%b0%201if%20%5b%20%26%2334%3b%241%26%2334%3b%20%3d%3d%20%26%2334%3b-u%26%2334%3b%20%5d%202then%203%20echo%20update%204fi%205echo%20%240%20ans%3a%0a1%5broot%20%3d%26gt%3b%20~%5d%24%20.%2ftest.sh%202.%2ftest.sh%203%5broot%20%3d%26gt%3b%20~%5d%24%20.%2ftest.sh%20-u%204update%205.%2ftest.sh%20%24%40%20%e4%b8%8e%20%24%2a%20%e7%9a%84%e5%8c%ba%e5%88%ab%ef%bc%9a%ef%bc%88from%20stackoverflow%ef%bc%89%0a%24%40%20behaves%20like%20%24%2a%20except%20that%20when%20quoted%20the%20arguments%20are%20broken%20up%20properly%20if%20there%20are%20spaces%20in%20them.%0aTake%20this%20script%20for%20example%20%28taken%20from%20the%20linked%20answer%29%3a"
      aria-label="Tumblr"
      target="_blank"
    >
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="actions-footer">
      
      
        <a
          class="icon-mobile-nav"
          href="https://akynazh.site/posts/2023/02/hugo-realizes-switching-between-deep-and-shallow-themes/"
          aria-label="Previous"
        >
          <i class="fas fa-chevron-left fa-lg" aria-hidden="true"></i>
        </a>
      
      
      <a
        id="menu-toggle"
        class="icon-mobile-nav"
        href="#"
        onclick="$('#nav-footer').show();$('#toc-footer').hide();$('#share-footer').hide();return false;"
        aria-label="Menu"
      >
        <i class="fas fa-bars fa-lg" aria-hidden="true"></i
      ></a>
      
      
        <a
          id="toc-toggle"
          class="icon-mobile-nav"
          href="#"
          onclick="$('#toc-footer').show();$('#nav-footer').hide();$('#share-footer').hide();return false;"
          aria-label="TOC"
        >
          <i class="fas fa-list fa-lg" aria-hidden="true"></i
        ></a>
      
      
      <a
        id="top"
        class="icon-mobile-nav"
        style="display:none"
        href="#"
        onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"
        aria-label="Top of Page"
      >
        <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i
      ></a>
      
      <a id="searchBtn1" class="icon-mobile-nav" href="#" aria-label="Search">
        <i class="fa fa-search fa-lg" aria-hidden="true"></i
      ></a>
      
      <a id="theme-change" class="icon-mobile-nav"
        ><i class="fas fa-adjust fa-lg"></i
      ></a>
      
      <a
        id="share-toggle"
        class="icon-mobile-nav"
        href="#"
        onclick="$('#share-footer').show();$('#toc-footer').hide();$('#nav-footer').hide();return false;"
        aria-label="Share"
      >
        <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i
      ></a>
      
      
        <a class="icon" href="https://akynazh.site/posts/2023/02/analyze-the-agent-process-from-the-source-code-of-the-requests-and-urllib-library/" aria-label="Next">
          <i class="fas fa-chevron-right fa-lg" aria-hidden="true"></i>
        </a>
      
    </div>
  </div>
</div>

      <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    2023
    
      Cactus/Jzh
    
    |
    <a href="https://beian.miit.gov.cn/" style="text-decoration:none;"
      >陕ICP备2022007986号-1</a
    >
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/posts">Posts</a></li>
        
          <li><a href="/tags">Tags</a></li>
        
          <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <script src="/js/main.js"></script>
    <script src="/js/fuse.min.js"></script>
    <script src="/js/fastsearch.js"></script>
  </body>
</html>
